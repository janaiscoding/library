(()=>{class e{constructor(e="Unknown",t="Unknown",o="0",n=!1){this.title=e,this.author=t,this.pages=o,this.status=n}}let t=new class{constructor(){this.books=[]}addBook(e){this.isInLibrary(e)||this.books.push(e)}removeBook(e){this.books=this.books.filter((t=>t.title!==e))}isInLibrary(e){return this.books.some((t=>t.title===e.title))}};const o=new e("Under the Pyramids","H.P. Lovecraft",263,!0),n=new e("Crabwalk","GÃ¼nter Grass",223,!1);function s(e){const o=document.querySelector(".library-space"),n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),l=document.createElement("button"),c=document.createElement("button");n.classList.add("book"),n.setAttribute("id",t.books.indexOf(e)),s.textContent=e.title,s.classList.add("book-title"),a.textContent=`Written by ${e.author}`,a.classList.add("book-author"),d.textContent=`${e.pages} pages`,d.classList.add("book-pages"),l.classList.add("status"),e.status?(l.textContent="Read",l.style.backgroundColor="green",l.style.borderLeft="solid 8px green"):(l.textContent="Not Read Yet",l.style.backgroundColor="red",l.style.borderLeft="solid 8px red"),c.textContent="Remove",c.classList.add("remove-book"),o.appendChild(n),n.append(s,a,d,l,c),l.addEventListener("click",(()=>{e.status=!e.status,r()})),c.addEventListener("click",(()=>{t.removeBook(n.firstChild.innerText),r()}))}function r(){const e=document.querySelector(".library-space");document.querySelectorAll(".book").forEach((t=>e.removeChild(t)));for(let e=0;e<=t.books.length-1;e++)s(t.books[e])}function a(){document.querySelector("#title").value="",document.querySelector("#author").value="",document.querySelector("#pages").value="",document.querySelector("#status").checked=!1}t.addBook(o),t.addBook(n),r(),document.querySelector(".library-form").addEventListener("submit",(o=>{o.preventDefault();const n=document.getElementById("title").value,s=document.getElementById("author").value,d=document.getElementById("pages").value,l=document.getElementById("status").checked,c=new e(n,s,d,l);if(t.isInLibrary(c))return alert("This book already exists in your library"),void a();t.addBook(c),a(),r()})),document.querySelector(".clear-inputs").addEventListener("click",(e=>{e.preventDefault(),a()}))})();